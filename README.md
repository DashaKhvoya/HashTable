# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ö—ç—à —Ç–∞–±–ª–∏—Ü—ã #
## 1. –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è ##
–í —ç—Ç–æ–π —Ä–∞–±–æ—Ç–µ —è –∏—Å—Å–ª–µ–¥—É—é 7 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ö—ç—à —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ bucket'–∞–º. –î–∞–ª–µ–µ —è –ø–æ–ø—ã—Ç–∞—é—Å—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π –∫–æ–¥ —Å –ø–æ–º–æ—â—å—é –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã—Ö –≤—Å—Ç–∞–≤–æ–∫, –≤—ã—è–≤–∏–≤ –Ω–∞–∏–±–æ–ª–µ–µ –¥–æ–ª–≥–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏.

–ë—É–¥—É—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Ö—ç—à —Ñ—É–Ω–∫—Ü–∏–∏:

1. –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–π —Ö—ç—à
2. –•—ç—à, —Ä–∞–≤–Ω—ã–π –¥–ª–∏–Ω–µ —Å–ª–æ–≤–∞
3. –•—ç—à, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π ASCII –∫–æ–¥ 1-–≥–æ —Å–∏–º–≤–æ–ª–∞
4. –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–µ —Å—É–º–º–∞ (—Å—É–º–º–∞ ASCII –∫–æ–¥–æ–≤)
5. ROR-Hash
6. ROL-Hash
7. CRC32

–†–∞–±–æ—Ç–∞ —Ö—ç—à —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∞–Ω–≥–ª–æ-—Ä—É—Å—Å–∫–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è. –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ –Ω–∞–∏–±–æ–ª–µ–µ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [Callgrind profile with KCacheGrind](https://baptiste-wicht.com/posts/2011/09/profile-c-application-with-callgrind-kcachegrind.html).

## 2. –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ö—ç—à —Ñ—É–Ω–∫—Ü–∏–π ##

–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã —Ö—ç—à —Ç–∞–±–ª–∏—Ü—ã:
1. –ß–∏—Ç–∞–µ–º —Å–ª–æ–≤–æ –∏–∑ —Å–ª–æ–≤–∞—Ä—è
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞ –≤—ã—á–∏—Å–ª—è–µ–º —Ö—ç—à
3. –î–æ–±–∞–≤–ª—è–µ–º –ø–æ –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–º—É —Ö—ç—à—É –Ω–∞—à —ç–ª–µ–º–µ–Ω—Ç –≤ —Ö—ç—à —Ç–∞–±–ª–∏—Ü—É
4. –ï—Å–ª–∏ –ø–æ –¥–∞–Ω–Ω–æ–º—É —Ö—ç—à—É —É–∂–µ –µ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç, —Ç–æ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –Ω–∞—à —ç–ª–µ–º–µ–Ω—Ç –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É –≤ –¥–∞–Ω–Ω–æ–º bucket'–µ

–î–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—é–¥–∞:

![](HashTable.png)

### 2.1. –ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–π —Ö—ç—à ###

–•—ç—à –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 1.

![](graph1.png)
![](gist1.png)

–ú–∞—Å—à—Ç–∞–± –ø–æ –æ—Å–∏ x —É–≤–µ–ª–∏—á–µ–Ω –≤ 30 —Ä–∞–∑, —á—Ç–æ–±—ã –ª—É—á—à–µ –±—ã–ª–æ –≤–∏–¥–Ω–æ –ø–∏–∫.

### 2.2. –•—ç—à, —Ä–∞–≤–Ω—ã–π –¥–ª–∏–Ω–µ —Å–ª–æ–≤–∞ ###

–•—ç—à —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–ª–∏–Ω—É —ç–ª–µ–º–µ–Ω—Ç–∞ (—Å–ª–æ–≤–∞).

![](graph2.png)
![](gist2.png)

–ú–∞—Å—à—Ç–∞–± –ø–æ –æ—Å–∏ x —É–≤–µ–ª–∏—á–µ–Ω –≤ 30 —Ä–∞–∑, —á—Ç–æ–±—ã –ª—É—á—à–µ –±—ã–ª–æ –≤–∏–¥–Ω–æ –ø–∏–∫.

### 2.3. –•—ç—à, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π ASCII –∫–æ–¥ 1-–≥–æ —Å–∏–º–≤–æ–ª–∞ ###

–•—ç—à —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ASCII –∫–æ–¥ 1-–≥–æ —Å–∏–º–≤–æ–ª–∞.

![](graph3.png)
![](gist3.png)

–ú–∞—Å—à—Ç–∞–± –ø–æ –æ—Å–∏ x —É–≤–µ–ª–∏—á–µ–Ω –≤ 30 —Ä–∞–∑, —á—Ç–æ–±—ã –ª—É—á—à–µ –±—ã–ª–æ –≤–∏–¥–Ω–æ –ø–∏–∫.

### 2.4. –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–µ —Å—É–º–º–∞ ###

–•—ç—à —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—É–º–º—É ASCII –∫–æ–¥–æ–≤ –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤ —Å–ª–æ–≤–∞.

![](graph4.png)
![](gist4.png)

### 2.5. ROR —Ö—ç—à ###

Hash[0] = 0

Hash[i + 1] = ror Hash[i] xor String[i]

–•—ç—à —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç xor —Å–ª–æ–≤–∞ —Å –µ–≥–æ —Ü–∏–∫–ª–∏—á–∏—Å–∫–∏–º –ø–æ–±–∏—Ç–æ–≤—ã–º —Å–¥–≤–∏–≥–æ–º –≤–ø—Ä–∞–≤–æ.

![](graph5.png)
![](gist5.png)

### 2.6. ROL —Ö—ç—à ###

Hash[0] = 0

Hash[i + 1] = rol Hash[i] xor String[i]

–•—ç—à —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç xor —Å–ª–æ–≤–∞ —Å –µ–≥–æ —Ü–∏–∫–ª–∏—á–∏—Å–∫–∏–º –ø–æ–±–∏—Ç–æ–≤—ã–º —Å–¥–≤–∏–≥–æ–º –≤–ª–µ–≤–æ.

![](graph6.png)
![](gist6.png)

### 2.7. CRC32 ###

![](graph7.png)
![](gist7.png)

### 2.8. –í—ã–±–æ—Ä –Ω–∞–∏–±–æ–ª–µ–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π —Ö—ç—à —Ñ—É–Ω–∫—Ü–∏–∏ ###

–ö–∞–∫ –≤–∏–¥–Ω–æ –∏–∑ –≥—Ä–∞—Ñ–∏–∫–æ–≤, CRC32 —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ö—ç—à —Ñ—É–Ω–∫—Ü–∏–µ–π. –í –Ω–µ–π –Ω–∞–∏–º–µ–Ω—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—É—Å—Ç—ã—Ö bucket'–æ–≤, –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ bucket'–∞–º –∏ —Ä–∞–∑–º–µ—Ä bucket'–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ –±–æ–ª—å—à–µ 9-—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤. 

–ï—Å–ª–∏ –∂–µ —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ö—ç—à —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–æ –º–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –ø–µ—Ä–≤—ã–µ —á–µ—Ç—ã—Ä–µ —Ö—ç—à —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—É—Å—Ç—ã—Ö bucket'–æ–≤, –∫ —Ç–æ–º—É –∂–µ —É –Ω–∏—Ö –º–Ω–æ–≥–æ –≤—ã—Å–æ–∫–∏—Ö –ø–∏–∫–æ–≤, –æ–Ω–∏ —Å–æ–≤—Å–µ–º –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –≤ —Ö—ç—à —Ç–∞–±–ª–∏—Ü–µ.  6-—è –∏ 7-—è —Ö—ç—à —Ñ—É–Ω–∫—Ü–∏–∏ —É–∂–µ –ø–æ–ª—É—á—à–µ, –≤ –Ω–∏—Ö –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—å—à–µ –ø—É—Å—Ç—ã—Ö bucket'–æ–≤, –æ–¥–Ω–∞–∫–æ –≤ ROR —Ö—ç—à–µ –∏–º–µ–µ—é—Ç—Å—è bucket'—ã —Ä–∞–∑–º–µ—Ä–∞ –±–æ–ª—å—à–µ 9, –∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ—Ç–æ–≤ –Ω–µ —Ç–∞–∫–æ–µ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ –∫–∞–∫ —É  CRC32 (—É ROL —Ö—ç—à–∞ —Ç–∞–∫–∏–µ –∂–µ –ø—Ä–æ–±–ª–µ–º—ã, —Ç–æ–ª—å–∫–æ –±–æ–ª–µ–µ —É—Å—É–≥–±–ª–µ–Ω–Ω—ã–µ).

## 3. –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π ##

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ö—ç—à —Ç–∞–±–ª–∏—Ü—ã –∑–∞–Ω–∏–º–∞—é—Ç –Ω–∞–∏–±–æ–ª—å—à–µ–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã, –±—É–¥–µ–º –º–Ω–æ–≥–æ —Ä–∞–∑ –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞ –≤ –±–æ–ª—å—à–æ–º —Ç–µ–∫—Å—Ç–µ. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É—è callgrind. 

![](callgrind.png)

–¢–µ–ø–µ—Ä—å –≤–∏–¥–Ω–æ, —á—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ –¥–æ–ª–≥–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ - —ç—Ç–æ ListSearch(–∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ __strcmp_avx2) –∏ HashFunction. –ò—Ö –º—ã –∏ –±—É–¥–µ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å.

## 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ##

–ò–∑–º–µ—Ä–∏–º –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π c -O0 –∏ —Å -O3 –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö —Å—Ä–∞–≤–Ω–µ–Ω–∏–π.

| -O0, —Å   | -O3, c   |
|----------|----------|
| 6.803562 | 4.086374 |

### 4.1. ListSearch ###

–î–∞–≤–∞–π—Ç–µ –ø–æ–π–º–µ–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è ListSearch. –û–Ω–∞ –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ bucket –∏ —ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤ —ç—Ç–æ–º bucket'–µ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏. –î–∞–ª–µ–µ –æ–Ω–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç—Å—è –ø–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∏—Ö —Å –ø–æ–º–æ—â—å—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ strcmp, –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å ListSearch, –Ω–∞–º –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ—é —Ñ—É–Ω–∫—Ü–∏—é —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å—Ç—Ä–æ–∫, —Ç–∞–∫ –∫–∞–∫ strcmp –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω.

–î–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å —Ö–æ—Ä–æ—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ - –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AVX –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏! –ê —Ç–µ–ø–µ—Ä—å –ø–æ–ø–æ–¥—Ä–æ–±–Ω–µ–µ. –ó–∞–º–µ—Ç–∏–º, —á—Ç–æ –Ω–∞—à–∏ —Å–ª–æ–≤–∞ –Ω–µ –ø—Ä–µ–≤—ã—à–∞—é—Ç –≤ —Ä–∞–∑–º–µ—Ä–µ 32-—Ö –±–∞–π—Ç. –¢–æ–≥–¥–∞ –º—ã –º–æ–∂–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–∏–ø–∞ __m256i. –¢–µ–ø–µ—Ä—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö —Å—Ç—Ä–æ–∫ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö __m256i, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Å–µ–≥–æ –ª–∏—à—å –æ–¥–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π _mm256_cmpeq_epi8. –ü–µ—Ä–µ–ø–∏—à–µ–º –Ω–∞ –∞—Å—Å–µ–º–±–ª–µ—Ä–µ —Ñ—É–Ω–∫—Ü–∏—é ListSearch, –∏—Å–ø–æ–ª—å–∑—É—è –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

```asm
_ListSearch:  mov rax, [rdi]     
              mov rcx, [rdi + 8] 

              vmovdqu ymm0, [rsi]

loop_start:   or rcx, rcx
              jz exit_false

              vmovdqu ymm1, [rax]
              vpcmpeqb ymm2, ymm1, ymm0
              vpmovmskb rdx, ymm2

              cmp rdx, -1
              je exit_true

              add rax, 16
              dec rcx
              jmp loop_start

exit_false:   xor rax, rax
              ret

exit_true:    mov rdx, [rsi + 8]
              mov [rax + 8], rdx
              mov rax, 1
              ret

```

–ò–∑–º–µ—Ä–∏–º –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø–æ—Å–ª–µ –¥–∞–Ω–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

| -O0, —Å   | -O3, c   |
|----------|----------|
| 4.439435 | 3.695601 |

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –ø–æ–ª—É—á–∏–ª–∏ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø—Ä–∏ -O0 –Ω–∞ 53% –∏ –ø—Ä–∏ -O3 –Ω–∞ 11%

### 4.2. HashFunction ###

–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å CRC32. –î–ª—è —ç—Ç–æ–≥–æ –≤ –∞—Å—Å–µ–º–±–ª–µ—Ä–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—é CRC32.  

```c
size_t HashFunction(Pair* pair) {
  size_t result = 0;

  __asm__ (
    ".intel_syntax noprefix \n\t"
    "xor rax, rax           \n\t"
    "mov rdx, [rdi]         \n\t"
    "loop_start:            \n\t"
    "mov cl, [rdx]          \n\t"
    "or cl, cl              \n\t"
    "jz loop_end            \n\t"
    "crc32 rax, cl          \n\t"
    "inc rdx                \n\t"
    "jmp loop_start         \n\t"
    "loop_end:              \n\t"
    ".att_syntax            \n\t"
    : "=a"(result)
    :
    : "rcx", "rdx", "rdi"
  );

  return result;
}
```

–ò–∑–º–µ—Ä–∏–º –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø–æ—Å–ª–µ –¥–∞–Ω–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

| -O0, —Å   | -O3, c   |
|----------|----------|
| 3.463982 | 3.373021 |

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –ø–æ–ª—É—á–∏–ª–∏ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø—Ä–∏ -O0 –Ω–∞ 28% –∏ –ø—Ä–∏ -O3 –Ω–∞ 10%

 ## 5. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ ##

  –ù–∞–∫–æ–Ω–µ—Ü-—Ç–æ, –¥–∞–≤–∞–π—Ç–µ —Å—Ä–∞–≤–Ω–∏–º –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –Ω–∞—à–µ–π –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ–π —Ö—ç—à —Ç–∞–±–ª–∏—Ü—ã (–±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π) –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ö—ç—à —Ç–∞–±–ª–∏—Ü—ã. 

|                                                     | -O0, —Å   | -O3, c   |
|-----------------------------------------------------|----------|----------|
| –ë–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π                                     | 6.803562 | 4.086374 |
| ListSearch + AVX –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏                         | 4.439435 | 3.695601 | 
| ListSearch + AVX –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ + –°RC32 –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π| 3.463982 | 3.373021 |

 –í –∏—Ç–æ–≥–µ –º–Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ö—ç—à —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ 96% (—Å -O0) –∏ –Ω–∞ 21% (—Å -O3). 

–û—Å—Ç–∞–ª–æ—Å—å –ø–æ—Å—á–∏—Ç–∞—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç ded32 [üôÄ](https://static.probusiness.io/n/03/d/38097027_439276526579800_2735888197547458560_n.jpg)[üôÄ](https://ru.meming.world/images/ru/thumb/e/ef/%D0%9F%D0%BB%D0%B0%D1%87%D1%83%D1%89%D0%B8%D0%B9_%D0%BA%D0%BE%D1%82_%D1%81_%D0%BF%D0%B0%D0%BB%D1%8C%D1%86%D0%B5%D0%BC_%D0%B2%D0%B2%D0%B5%D1%80%D1%85_%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD.jpg/300px-%D0%9F%D0%BB%D0%B0%D1%87%D1%83%D1%89%D0%B8%D0%B9_%D0%BA%D0%BE%D1%82_%D1%81_%D0%BF%D0%B0%D0%BB%D1%8C%D1%86%D0%B5%D0%BC_%D0%B2%D0%B2%D0%B5%D1%80%D1%85_%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD.jpg)[üôÄ](https://www.interfax.ru/ftproot/textphotos/2019/05/17/700gc.jpg):

boost_coefficient / #asm_lines * 1000 = 1,96 / 37 * 1000 = 53,1 (-O0)

boost_coefficient / #asm_lines * 1000 = 1,21 / 37 * 1000 = 32,7 (-O3)
